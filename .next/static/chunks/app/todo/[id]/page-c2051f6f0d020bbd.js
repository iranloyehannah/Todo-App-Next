(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51],{52455:(e,r,t)=>{Promise.resolve().then(t.bind(t,60137))},60137:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k,dynamic:()=>w});var o=t(98960),d=t(87971),n=t(36550),i=t(82810),a=t(45561),c=t(72274),l=t(37436),s=t(59027),u=t(25083),h=t(42916),m=t(32635),g=t(81075),p=t(55464),f=t(41737),x=t(35770),b=t(54549),y=t(46600);let A=(0,b.A)((0,y.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var v=t(91870);let F=()=>{let e=(0,u.useParams)(),r=null==e?void 0:e.id,t=(0,u.useRouter)(),{todos:d,isLoading:n,error:i}=(0,v.k)();if(n)return(0,o.Y)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,o.Y)(h.A,{sx:{color:"primary.main"}})});if(i)return(0,o.Y)(l.A,{sx:{maxWidth:800,mx:"auto",p:2},children:(0,o.FD)(m.A,{severity:"error",sx:{mt:2,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:["Error loading todo: ",i.message]})});let a=d.find(e=>e.id===parseInt(r||"0"));return a?(0,o.FD)(l.A,{sx:{maxWidth:800,mx:"auto",p:2,minHeight:"100vh"},children:[(0,o.Y)(g.A,{startIcon:(0,o.Y)(A,{}),onClick:()=>t.push("/"),sx:{mb:2,background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",color:"white","&:hover":{background:"linear-gradient(45deg, #1976D2 30%, #00BCD4 90%)"}},children:"Back to List"}),(0,o.FD)(p.A,{sx:{p:4,borderRadius:2,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)"},children:[(0,o.FD)(l.A,{sx:{mb:4},children:[(0,o.Y)(f.A,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:600,color:"text.primary",mb:2},children:a.todo}),(0,o.Y)(x.A,{label:a.completed?"Completed":"Pending",color:a.completed?"success":"warning",sx:{mb:2,fontWeight:600,fontSize:"0.9rem",height:32,"& .MuiChip-label":{px:2}}})]}),(0,o.FD)(l.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,o.FD)(l.A,{sx:{p:2,borderRadius:1,bgcolor:"rgba(0,0,0,0.02)"},children:[(0,o.Y)(f.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1,fontWeight:600},children:"Status"}),(0,o.Y)(f.A,{sx:{fontWeight:500},children:a.completed?"Completed":"Pending"})]}),(0,o.FD)(l.A,{sx:{p:2,borderRadius:1,bgcolor:"rgba(0,0,0,0.02)"},children:[(0,o.Y)(f.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1,fontWeight:600},children:"User"}),(0,o.Y)(f.A,{sx:{fontWeight:500},children:a.userId})]}),(0,o.FD)(l.A,{sx:{p:2,borderRadius:1,bgcolor:"rgba(0,0,0,0.02)"},children:[(0,o.Y)(f.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1,fontWeight:600},children:"Todo ID"}),(0,o.Y)(f.A,{sx:{fontWeight:500},children:a.id})]})]})]})]}):(0,o.FD)(l.A,{sx:{maxWidth:800,mx:"auto",p:2},children:[(0,o.Y)(m.A,{severity:"error",sx:{mt:2,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:"Todo not found"}),(0,o.Y)(g.A,{startIcon:(0,o.Y)(A,{}),onClick:()=>t.push("/"),sx:{mt:2,background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",color:"white","&:hover":{background:"linear-gradient(45deg, #1976D2 30%, #00BCD4 90%)"}},children:"Back to List"})]})};var Y=t(10788);let D=(0,i.A)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}}),w="force-dynamic";function k(){let[e]=(0,Y.useState)(()=>new d.E);return(0,o.Y)(n.Ht,{client:e,children:(0,o.FD)(a.A,{theme:D,children:[(0,o.Y)(c.Ay,{}),(0,o.Y)(s.tH,{children:(0,o.Y)(l.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #BBDEFB 0%, #64B5F6 100%)"},children:(0,o.Y)(F,{})})})]})})}},91870:(e,r,t)=>{"use strict";t.d(r,{k:()=>u});var o=t(36550),d=t(73218),n=t(10534),i=t(44786);let a="todos",c=()=>{try{let e=localStorage.getItem(a);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}},l=e=>{try{localStorage.setItem(a,JSON.stringify(e))}catch(e){console.error("Error writing to localStorage:",e)}},s="https://dummyjson.com/todos";function u(){let e=(0,o.jE)(),{data:r=[],isLoading:t,error:a}=(0,d.I)({queryKey:["todos"],queryFn:async()=>{try{let e=c();if(e&&e.length>0)return e;let r=(await i.A.get(s)).data.todos;return l(r),r}catch(e){return console.error("Error fetching todos:",e),[]}}}),u=(0,n.n)({mutationFn:async e=>{try{let r=await i.A.post(s+"/add",{todo:e.todo,completed:!1,userId:Math.floor(15*Math.random())+1},{headers:{"Content-Type":"application/json"}}),t=c()||[],o={...r.data,id:Date.now()},d=[o,...t];return l(d),o}catch(t){console.error("Error adding todo to API:",t);let r={id:Date.now(),todo:e.todo,completed:!1,userId:Math.floor(15*Math.random())+1};return l([r,...c()||[]]),r}},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}});return{todos:r,isLoading:t,error:a,useAddTodo:u,deleteTodo:(0,n.n)({mutationFn:async e=>{if(l((c()||[]).filter(r=>r.id!==e)),e<100)try{await i.A.delete("".concat(s,"/").concat(e))}catch(e){console.error("Error deleting todo from API:",e)}},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}}),toggleTodo:(0,n.n)({mutationFn:async e=>{let r=c()||[],t=r.find(r=>r.id===e.id);if(!t)throw Error("Todo Not Found");let o=void 0!==e.todo&&e.todo!==t.todo,d=void 0!==e.completed&&e.completed!==t.completed,n=r.map(r=>{if(r.id===e.id){if(o&&void 0!==e.todo)return{...r,todo:e.todo};else if(d&&void 0!==e.completed)return{...r,completed:e.completed}}return r});if(l(n),e.id<100)try{if(o)return n.find(r=>r.id===e.id);if(d)return(await i.A.put("".concat(s,"/").concat(e.id),{completed:e.completed,todo:t.todo,userId:t.userId},{headers:{"Content-Type":"application/json"}})).data}catch(r){return console.error("Error updating todo in API:",r),n.find(r=>r.id===e.id)}return n.find(r=>r.id===e.id)},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}}}},e=>{e.O(0,[109,547,248,27,999,8,358],()=>e(e.s=52455)),_N_E=e.O()}]);