(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{25715:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>F,dynamic:()=>k});var r=o(98960),n=o(87971),d=o(36550),a=o(82810),i=o(45561),l=o(72274),s=o(37436),c=o(59027),u=o(10788),m=o(91870),h=o(36622),p=o(47028),g=o(42916),x=o(55379),f=o(32635),y=o(41737),A=o(81075),b=o(55464),w=o(16994),v=o(21628);let S=()=>{let[e,t]=(0,u.useState)(!1),[o,n]=(0,u.useState)(1),{todos:d,isLoading:a,error:i,useAddTodo:l,deleteTodo:S,toggleTodo:Y}=(0,m.k)(),[k,F]=(0,u.useState)(""),[C,E]=(0,u.useState)("all"),I=(0,h.A)(),D=(0,p.A)(I.breakpoints.down("sm")),j=e=>{S.mutate(e)},B=e=>{Y.mutate(e)},N=(0,u.useMemo)(()=>d.filter(e=>{let t=""===k||e.todo.toLowerCase().includes(k.toLowerCase()),o="all"===C||"completed"===C&&e.completed||"pending"===C&&!e.completed;return t&&o}),[d,k,C]),T=Math.ceil(((null==N?void 0:N.length)||0)/10),M=(o-1)*10,W=(null==N?void 0:N.slice(M,M+10))||[];return a?(0,r.Y)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:(0,r.Y)(g.A,{})}):i?(0,r.Y)(x.A,{maxWidth:"md",sx:{mt:4,px:2},children:(0,r.FD)(f.A,{severity:"error",children:["Error: ",i.message]})}):(0,r.Y)(s.A,{sx:{minHeight:"100vh",py:{xs:2,sm:3,md:4},px:{xs:1,sm:2}},children:(0,r.FD)(x.A,{maxWidth:"md",sx:{px:{xs:1,sm:2}},children:[(0,r.FD)(s.A,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",sm:"center"},gap:2,mb:4,sx:{background:"linear-gradient(90deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%)",p:{xs:2,sm:3},borderRadius:2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,r.Y)(y.A,{variant:"h4",component:"h1",fontWeight:"bold",color:"primary",sx:{fontSize:{xs:"1.5rem",sm:"2rem"},textAlign:{xs:"center",sm:"left"}},children:"Todo List"}),(0,r.Y)(A.A,{variant:"contained",onClick:()=>t(!0),fullWidth:D,sx:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)","&:hover":{background:"linear-gradient(45deg, #1976D2 30%, #1CB5E0 90%)"},maxWidth:{xs:"100%",sm:"auto"}},children:"Add Todo"})]}),(0,r.Y)(c.Os,{onSearch:F,onFilter:E}),0===N.length?(0,r.Y)(b.A,{sx:{p:{xs:2,sm:3},textAlign:"center",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:(0,r.Y)(y.A,{color:"text.secondary",children:k||"all"!==C?"No todos match your search criteria":"No todos yet. Add one to get started!"})}):(0,r.Y)(b.A,{sx:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",borderRadius:2,overflow:"hidden"},children:(0,r.Y)(w.A,{children:W.map(e=>(0,r.Y)(c.kW,{todo:e,onDelete:j,onToggle:B},e.id))})}),T>1&&(0,r.Y)(s.A,{display:"flex",justifyContent:"center",mt:4,sx:{"& .MuiPagination-ul":{flexWrap:"wrap",justifyContent:"center"}},children:(0,r.Y)(v.A,{count:T,page:o,onChange:(e,t)=>{e.preventDefault(),n(t)},color:"primary",showFirstButton:!D,showLastButton:!D,size:D?"small":"medium"})}),(0,r.Y)(c.mK,{isOpen:e,onClose:()=>t(!1),onAdd:e=>{l.mutate(e)}})]})})},Y=(0,a.A)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"}}}),k="force-dynamic";function F(){let[e]=(0,u.useState)(()=>new n.E);return(0,r.Y)(d.Ht,{client:e,children:(0,r.FD)(i.A,{theme:Y,children:[(0,r.Y)(l.Ay,{}),(0,r.Y)(c.tH,{children:(0,r.Y)(s.A,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #BBDEFB 0%, #64B5F6 100%)"},children:(0,r.Y)(S,{})})})]})})}},70644:(e,t,o)=>{Promise.resolve().then(o.bind(o,25715))},91870:(e,t,o)=>{"use strict";o.d(t,{k:()=>u});var r=o(36550),n=o(73218),d=o(10534),a=o(44786);let i="todos",l=()=>{try{let e=localStorage.getItem(i);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}},s=e=>{try{localStorage.setItem(i,JSON.stringify(e))}catch(e){console.error("Error writing to localStorage:",e)}},c="https://dummyjson.com/todos";function u(){let e=(0,r.jE)(),{data:t=[],isLoading:o,error:i}=(0,n.I)({queryKey:["todos"],queryFn:async()=>{try{let e=l();if(e&&e.length>0)return e;let t=(await a.A.get(c)).data.todos;return s(t),t}catch(e){return console.error("Error fetching todos:",e),[]}}}),u=(0,d.n)({mutationFn:async e=>{try{let t=await a.A.post(c+"/add",{todo:e.todo,completed:!1,userId:Math.floor(15*Math.random())+1},{headers:{"Content-Type":"application/json"}}),o=l()||[],r={...t.data,id:Date.now()},n=[r,...o];return s(n),r}catch(o){console.error("Error adding todo to API:",o);let t={id:Date.now(),todo:e.todo,completed:!1,userId:Math.floor(15*Math.random())+1};return s([t,...l()||[]]),t}},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}});return{todos:t,isLoading:o,error:i,useAddTodo:u,deleteTodo:(0,d.n)({mutationFn:async e=>{if(s((l()||[]).filter(t=>t.id!==e)),e<100)try{await a.A.delete("".concat(c,"/").concat(e))}catch(e){console.error("Error deleting todo from API:",e)}},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}}),toggleTodo:(0,d.n)({mutationFn:async e=>{let t=l()||[],o=t.find(t=>t.id===e.id);if(!o)throw Error("Todo Not Found");let r=void 0!==e.todo&&e.todo!==o.todo,n=void 0!==e.completed&&e.completed!==o.completed,d=t.map(t=>{if(t.id===e.id){if(r&&void 0!==e.todo)return{...t,todo:e.todo};else if(n&&void 0!==e.completed)return{...t,completed:e.completed}}return t});if(s(d),e.id<100)try{if(r)return d.find(t=>t.id===e.id);if(n)return(await a.A.put("".concat(c,"/").concat(e.id),{completed:e.completed,todo:o.todo,userId:o.userId},{headers:{"Content-Type":"application/json"}})).data}catch(t){return console.error("Error updating todo in API:",t),d.find(t=>t.id===e.id)}return d.find(t=>t.id===e.id)},onSuccess:()=>{e.invalidateQueries({queryKey:["todos"]})}})}}}},e=>{e.O(0,[109,547,248,610,27,999,8,358],()=>e(e.s=70644)),_N_E=e.O()}]);